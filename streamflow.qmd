## StreamFlow

- Relies on the [Common Workflow Language](https://www.commonwl.org/) (CWL)
- [BioExcel CoE Building Blocks](https://bioexcel.eu/biobb-new/) is using CWL for interoperable and reproducible biomolecular simulation workflows.
- StreamFlow connects CWL with HPC
- Supports Containers (Singularity), Kubernetes and SLURM


## Common Workflow Language (CWL)

::: {layout='[1,1]'}
::: n1
``` {.yaml filename="workflow.cwl"}
{{< include code/workflow.cwl >}}
```
:::
::: n2
``` {.yaml filename="tasl1.cwl"}
{{< include code/task1.cwl >}}
```
``` {.yaml filename="task2.cwl"}
{{< include code/task2.cwl >}}
```
:::
:::


## Visualizing CWL

- [Web service for visualization](https://view.commonwl.org/)


## StreamFlow Architecture

![](images/streamflow-model.png){fig-align="center"}


## StreamFlow Deployment

::: {layout='[1,1]'}
::: n1
``` {.yaml filename="streamflow_container.yaml"}
{{< include code/streamflow_container.yaml >}}
```
:::

::: n2
``` {.yaml filename="streamflow_slurm.yaml"}
{{< include code/streamflow_slurm.yaml >}}
```
:::
:::


## Supported Features

  - [Parallelization](https://www.commonwl.org/features/#parallelization-and-scale-with-cwl)
  - [Caching](https://www.commonwl.org/user_guide/topics/troubleshooting.html#run-cwltool-with-cachedir)
    (vs [Flyte caching](https://docs.flyte.org/en/latest/user_guide/development_lifecycle/caching.html#caching))
  - Nested workflows
  - Looping / scattering tasks
  - Conditional workflows



